{% extends "background.html" %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/all_users.css') }}">

<body>
    <div class="user-management">


        <div class="user-info-wrapper">
            <h1>用户管理</h1>
        <!-- 当前用户信息 -->
            <div class="current-user">
                <h2>当前用户</h2>
                <div class="user-list">
                    <div class="user-item">
                        <div class="user-info">
                            <div class="avatar-container">
                                <img src="{{ url_for('static', filename=user.avatar) }}" alt="头像" class="avatar">
                            </div>
                            <span class="user-name">
                                <strong>姓名:</strong>
                                <a href="{{ url_for('profile', user_id=user.id) }}" class="no-underline">{{ user.username }}</a>
                            </span>

                        </div>
                    </div>
                </div>
            </div>

            <!-- 所有用户列表 -->
            <div class="other-users">
                <h2>所有用户</h2>
                <ul class="user-list">
                    {% for each_user in users %}
        <!--            如果用户是当前用户，则不显示信息-->
                    {% if  not (each_user.id == user.id)  %}
                    <li class="user-item">
                        <div class="avatar-container">
                            <img src="{{ url_for('static', filename=each_user.avatar) }}" alt="头像" class="avatar">
                        </div>
                        <div class="user-info">
                            <span class="user-name">
                                <strong>姓名:</strong>
                                <a href="{{ url_for('profile', user_id=each_user.id) }}" class="no-underline">{{ each_user.username }}</a>
                            </span>

                        </div>
                    </li>
                    {% endif %}
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
</body>

{% endblock %}
